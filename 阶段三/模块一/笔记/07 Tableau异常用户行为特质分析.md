### 1 问题

如何判断一场活动中是否有作弊用户，如果有的话描述其特质，为运营提供参考。

### 2 思路

根据用户行为数据，通过聚类分析将用户划分为若干组，之后将异常用户与聚类分析结果进行交叉分析，查看异常用户在哪几个维度上表现较差，为后续运营提供参考。

其中，聚类分析可以通过SPSS或者python来实现，也可以通过Tableau中“分析-群集”功能实现。这里不对具体过程做解释。假设我们将聚类后的结果放入了“用户聚类结果”这张表中。

### 3 操作

#### 3.1 数据准备

现有三张数据表，具体字段如下： 

>1 用户行为特征表： “用户ID”、“购买金额”、“产生利润”、“加购数量”
>
>2 用户维度特征表：“用户ID”、“注册时间”、“注册渠道”
>
>3 用户聚类结果表：“用户ID”、“分群” （指python聚类分析的结果）

将该数据导入Tableau中，用“用户行为特征”表分别左连接“用户维度特征”表和“用户聚类结果”表。前10行数据如下图所示： 

<img src="https://blog20200906.oss-cn-hangzhou.aliyuncs.com/uPic/image-20200927110927538.png" alt="image-20200927110927538" style="zoom:50%;" />



#### 3.2 数据探索

1 用目标数据做一些探索性的分析，例如根据利润、购买金额这两个维度来看看不同组的用户在这两个维度上怎么分布： 

<img src="https://blog20200906.oss-cn-hangzhou.aliyuncs.com/uPic/image-20200927112519756.png" alt="image-20200927112519756" style="zoom:50%;" />

如果给三个集群添加趋势线，结果如下： 

<img src="https://blog20200906.oss-cn-hangzhou.aliyuncs.com/uPic/image-20200927112710650.png" alt="image-20200927112710650" style="zoom:25%;" />

根据该图，我的分析如下：

> **1 蓝色群体。**蓝色的群体低购买金额、利润都较低，并且其利润与购买金额几乎不相关。如果根据产生利润将其分为两个群体：产生正利润的蓝色群体1、产生负利润的蓝色群体2，那么我们看到蓝色群体1的利润与购买金额呈正相关，而蓝色群体2的利润与购买金额负相关。因此可以推测蓝色群体可能是价格敏感型用户，其收入可能较低，或者对平台还不够信任（因此只买小件来尝试）。而对于蓝色群体2，其利润与购买金额呈现负相关，可能的解释是他们只在平台有大型活动补贴的时候才会来参加活动，并且受限于收入或者对平台的信任度，他们依旧只敢买低价商品进行尝试。   
>
> 根据以上分析，如果要进一步区分这些用户是收入低还是对平台不够信任，那么可以进一步查看他们的购买次数的数据。如果用户的购买频次较高，基本可以排除第二种假设。
>
> **2 黄色群体**。整体上黄色群体与蓝色群体非常像，只是消费的金额略高，可以根据购买的商品品类推测进一步理解这个群体。该群体也可以划分为两种类型：产生负利润的用户和产生正利润的用户。
>
> **3 红色群体**。可以看到红色群体产生的利润与购买金额呈现正相关，他们可能购买的是一些高利润的商品，例如化妆品、零食等。可以根据消费频次、消费商品品类来进一步推测该群体特质。 

上面只是一个分析的例子，我们可以将不同的指标进行相关分析，看看不同的群体在这些维度上的分析。综合多个分析结果后，我们基本可以知道群体1、群体2、群体3三个群体具有哪些特质，可能对应哪类用户，我们可以根据特质对其进行标签化。



2 假设已经得出了不同用户的标签，那么我们可以根据这些标签和其他数据进行进一步的交叉分析。